diff -p -up bacula-5.0.3/examples/nagios/check_bacula/check_bacula.c.bnet bacula-5.0.3/examples/nagios/check_bacula/check_bacula.c
--- bacula-5.0.3/examples/nagios/check_bacula/check_bacula.c.bnet	2010-08-05 14:29:51.000000000 +0000
+++ bacula-5.0.3/examples/nagios/check_bacula/check_bacula.c	2011-01-06 13:27:23.391364617 +0000
@@ -336,8 +336,8 @@ int docmd(monitoritem* item, const char*
 	    	strcpy(answer, "BACULA WARNING - << EOD >>");
 	    	return STATE_WARNING;
 	 }
-	 else if (item->D_sock->msglen == BNET_PROMPT) {
-	    strcpy(answer, "BACULA WARNING - BNET_PROMPT signal received.");
+	 else if (item->D_sock->msglen == BNET_SUB_PROMPT) {
+	    strcpy(answer, "BACULA WARNING - BNET_SUB_PROMPT signal received.");
 	    return STATE_WARNING;
 	 }
 	 else if (item->D_sock->msglen == BNET_HEARTBEAT) {
diff -p -up bacula-5.0.3/src/tray-monitor/tray-monitor.c.bnet bacula-5.0.3/src/tray-monitor/tray-monitor.c
--- bacula-5.0.3/src/tray-monitor/tray-monitor.c.bnet	2011-01-06 12:51:15.000000000 +0000
+++ bacula-5.0.3/src/tray-monitor/tray-monitor.c	2011-01-06 13:27:43.891363996 +0000
@@ -1023,9 +1023,9 @@ int docmd(monitoritem* item, const char*
             //fprintf(stderr, "<< EOD >>\n");
             return 1;
          }
-         else if (item->D_sock->msglen == BNET_PROMPT) {
+         else if (item->D_sock->msglen == BNET_SUB_PROMPT) {
             //fprintf(stderr, "<< PROMPT >>\n");
-            *list = g_slist_append(*list, g_string_new(_("<< Error: BNET_PROMPT signal received. >>\n")));
+            *list = g_slist_append(*list, g_string_new(_("<< Error: BNET_SUB_PROMPT signal received. >>\n")));
             return 0;
          }
          else if (item->D_sock->msglen == BNET_HEARTBEAT) {
diff -p -up bacula-5.0.3/src/wx-console/console_thread.cpp.bnet bacula-5.0.3/src/wx-console/console_thread.cpp
--- bacula-5.0.3/src/wx-console/console_thread.cpp.bnet	2010-08-05 14:29:51.000000000 +0000
+++ bacula-5.0.3/src/wx-console/console_thread.cpp	2011-01-06 13:26:51.481363092 +0000
@@ -483,7 +483,7 @@ void* console_thread::Entry() {
          csprint(UA_sock->msg);
       }
       else if (stat == BNET_SIGNAL) {
-         if (UA_sock->msglen == BNET_PROMPT) {
+         if (UA_sock->msglen == BNET_SUB_PROMPT) {
             csprint(NULL, CS_PROMPT);
          } else if (UA_sock->msglen == BNET_EOD) {
             last_is_eod = 1;
